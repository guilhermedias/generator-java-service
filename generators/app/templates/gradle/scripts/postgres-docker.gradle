task startPostgresDocker(type: Exec) {
    commandLine startPostgresDockerCommand('<%=applicationName%>-postgres', '<%=applicationName%>', 'postgres', 'postgres')
}

task stopPostgresDocker(type: Exec) {
    commandLine stopPostgresDockerCommand('<%=applicationName%>-postgres')
}

def startPostgresDockerCommand(containerName, dbName, dbUsername, dbPassword) {
    return "docker run --name ${containerName} -p 8092:5432 -e POSTGRES_DB=${dbName} -e POSTGRES_USER=${dbUsername} -e POSTGRES_PASSWORD=${dbPassword} --rm -d postgres".split(' ')
}

def stopPostgresDockerCommand(containerName) {
    return "docker stop ${containerName}".split(' ')
}
